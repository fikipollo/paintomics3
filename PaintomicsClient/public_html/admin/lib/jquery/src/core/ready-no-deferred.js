define(["../core","../var/document"],function(jQuery,document){"use strict";var readyCallbacks=[],whenReady=function(fn){readyCallbacks.push(fn)},executeReady=function(fn){window.setTimeout(function(){fn.call(document,jQuery)})};jQuery.fn.ready=function(fn){whenReady(fn);return this};jQuery.extend({isReady:false,readyWait:1,holdReady:function(hold){if(hold){jQuery.readyWait++}else{jQuery.ready(true)}},ready:function(wait){if(wait===true?--jQuery.readyWait:jQuery.isReady){return}jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0){return}whenReady=function(fn){readyCallbacks.push(fn);while(readyCallbacks.length){fn=readyCallbacks.shift();if(jQuery.isFunction(fn)){executeReady(fn)}}};whenReady()}});jQuery.ready.then=jQuery.fn.ready;function completed(){document.removeEventListener("DOMContentLoaded",completed);window.removeEventListener("load",completed);jQuery.ready()}if(document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll){window.setTimeout(jQuery.ready)}else{document.addEventListener("DOMContentLoaded",completed);window.addEventListener("load",completed)}});